{% set isPublic=true %} {%set currentView='carousel'%}
<div class="home-heading18">
  <h2 class="home-text24">Nuestras Especialidades</h2>
  <p class="home-text25">
    Nos dedicamos a ofrecerte los mejores servicios en diversas áreas de la
    salud.
  </p>
</div>

<!-- Contenedor de especialidades (ya incluye el contenido) -->
<div
  id="docsContent"
  class="home-docs"
>
  {% include "pages/privatePages/specialty/verb/getAll.njk" %}
</div>
<div class="home-heading19">
  <h2 class="home-header19">¿Por qué elegirnos?</h2>
  <p class="home-header20">
    Estamos comprometidos a brindarte la mejor atención médica posible.
  </p>
</div>
<div class="home-content13">
  <div class="home-video1">
    <video
      src=""
      poster="/News/video-1500w.png"
      class="home-video2"
    ></video>
    <div class="home-play">
      <img
        alt="image"
        src="/Icons/play.svg"
        class="home-image23"
      />
    </div>
  </div>
  <div class="home-caption8">
    <h3 class="home-header21">
      Comprometidos a la excelencia en atención médica
    </h3>
    <p class="home-header22">
      Nuestro objetivo es proporcionar un servicio excepcional a cada paciente.
    </p>
  </div>
</div>
<button id="openModalBtn">Especialidades</button>


<script type="module">
  import { customModal } from './js/components/common/modal.js';
  import { renderCards } from './js/renders/renderCards.js';
  import { fetchSpecialty } from './js/services/loadFetchs.js';
  import { getState } from './js/reducers/state.js';

  // Función para cargar especialidades
  const loadSpecialties = async () => {
    try {
      await fetchSpecialty(); // Cargar especialidades desde la API
      const specialties = getState().specialties;
      return specialties; // Retornar las especialidades cargadas
    } catch (error) {
      console.error('Error al cargar especialidades:', error);
      return [];
    }
  };

  // Evento para abrir el modal
  document.getElementById('openModalBtn').addEventListener('click', async () => {
    const specialties = await loadSpecialties(); // Cargar especialidades

    // Crear un ID único para este modal usando la hora actual
    const modalId = 'myModal_' + new Date().getTime(); // ID único
console.log(modalId)
    // Renderizar las tarjetas con las especialidades
    const cardsContainer = renderCards(specialties);

    // Abrir el modal con las especialidades y un ID único
    customModal(modalId, 'fullscreen', 'Especialidades', '#ffffff', specialties, cardsContainer, '', 'pagination');
  });
</script>
