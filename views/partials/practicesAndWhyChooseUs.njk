{% set isPublic=true %} {%set currentView='carousel'%}
<div class="home-heading18">
  <h2 class="home-text24">Nuestras Especialidades</h2>
  <p class="home-text25">
    Nos dedicamos a ofrecerte los mejores servicios en diversas Ã¡reas de la
    salud.
  </p>
</div>

<!-- Contenedor de especialidades (ya incluye el contenido) -->
<div
  id="docsContent"
  class="home-docs"
>
  {% include "pages/privatePages/specialty/verb/getAll.njk" %}
</div>
<div class="home-heading19">
  <h2 class="home-header19">Â¿Por quÃ© elegirnos?</h2>
  <p class="home-header20">
    Estamos comprometidos a brindarte la mejor atenciÃ³n mÃ©dica posible.
  </p>
</div>
<div class="home-content13">
  <div class="home-video1">
    <video
      src=""
      poster="/News/video-1500w.png"
      class="home-video2"
    ></video>
    <div class="home-play">
      <img
        alt="image"
        src="/Icons/play.svg"
        class="home-image23"
      />
    </div>
  </div>
  <div class="home-caption8">
    <h3 class="home-header21">
      Comprometidos a la excelencia en atenciÃ³n mÃ©dica
    </h3>
    <p class="home-header22">
      Nuestro objetivo es proporcionar un servicio excepcional a cada paciente.
    </p>
  </div>
</div>
<button id="openModalBtn">Especialidades</button>

<div
  id="myModal"
  class="customModal"
>
  <div class="customModal-content">
    <div class="customModal-header">
      <h2 class="customModal-title"></h2>
      <span
        class="close-button"
        onclick="Modal.close('#myModal')"
        isEditable="true"
        >Ã—</span
      >
    </div>
    <div
      class="customModal-body"
      id="modalBody"
    ></div>
    <!-- Este es el contenedor donde insertarÃ¡s el contenido -->
    <div class="customModal-footer"></div>
  </div>
</div>

<script type="module">
  import { customModal } from './js/components/common/modal.js';

  import { renderCards } from './js/renders/renderCards.js';
  import { fetchSpecialty } from './js/services/loadFetchs.js';
  import { getState } from './js/reducers/state.js';

  document
    .getElementById('openModalBtn')
    .addEventListener('click', async () => {
      try {
        // ðŸ”¹ Obtener las especialidades desde la API
        await fetchSpecialty();

        // ðŸ”¹ Recuperar el estado actualizado con specialties reales
        const specialties = getState().specialties;

        // ðŸ”¹ Renderizar con specialties reales
        const cardsContainer = renderCards(specialties);

        // ðŸ”¹ Abrir el modal con datos reales
        customModal(
          'myModal',
          'fullscreen',
          'Especialidades',
          '#ffffff',
          specialties,
          cardsContainer,
          '',
          'pagination'
        );
      } catch (error) {
        console.error('Error al obtener especialidades:', error);
      }
    });
</script>
